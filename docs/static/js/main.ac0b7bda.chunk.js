(this["webpackJsonpjson-visualizer"]=this["webpackJsonpjson-visualizer"]||[]).push([[0],{143:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),s=n.n(a),o=n(13),r=n.n(o),l=n(8),i=n(9),j=n(10),u=n(11),d=n(180),p=n(179),h=n(182),O=n(181),m=n(184),b=n(185),x=n(186),N=n(187),y=n(188),f=n(183),S=n(84),g=n.n(S),v=n(178),E="ARRAY",_={JSON_OBJECT_WRAPPER:"json-object-wrapper",JSON_OBJECT_CONTENT:"json-object-content",JSON_OBJECT_COLLAPSE:"json-object-collapse",JSON_OBJECT_ELLIPSE:"json-object-ellipse",JSON_ARRAY_WRAPPER:"json-array-wrapper",JSON_ARRAY_CONTENT:"json-array-content",JSON_ARRAY_COLLAPSE:"json-array-collapse",JSON_ARRAY_ELLIPSE:"json-array-ellipse"},T="icon-collapse",C="icon-expand",w=function(e){var t=e.type,n=e.keyIndex,a=e.expandOrCollapse;return Object(c.jsxs)("span",{className:_["JSON_".concat(t,"_WRAPPER")],children:[Object(c.jsx)("span",{className:C,children:Object(c.jsx)(v.a,{onClick:function(e){return a(e,t)},type:"minus"})}),Object(c.jsx)("span",{className:T,children:Object(c.jsx)(v.a,{onClick:function(e){return a(e,t)},type:"plus"})}),Object(c.jsx)("span",{className:_["JSON_".concat(t,"_COLLAPSE")],children:t===E?"Array":"Object"}),Object(c.jsx)("span",{children:t===E?"[":"{"}),Object(c.jsx)("span",{className:_["JSON_".concat(t,"_ELLIPSE")],children:"..."})]},"".concat(t).concat(n))},J=function(e){for(var t=e.number,n=void 0===t?231:t,a=[],s=0;s<n;s++)a.push(Object(c.jsx)("div",{className:"row-number-item",children:s+1},"row".concat(s)));return a},A=function(e){var t=e.jsonObject,n=e.keyIndex,a=e.name;return Object(c.jsx)("span",{className:a,children:t},"original".concat(n))};function I(e,t){var n=window.URL||window.webkitURL||window,c=new Blob([t]),a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=n.createObjectURL(c),a.download=e,function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}(a)}var L={};function R(e,t,n){var c=t?"":"none";e.parentNode.querySelectorAll(".".concat(n)).forEach((function(e){e.style="display: ".concat(c,";")}))}["String","Null","Undefined","Object","Array","Boolean","Number"].forEach((function(e){L["is".concat(e)]=function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}));n(143);var P=d.a.TextArea,k=p.a.Header,q=p.a.Content,B=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).expandOrCollapse=function(e,t){var n=function(e,t){if(!t)return e.parentNode;for(var n=e;"string"!==typeof n.className||!n.className.includes(t);)n=n.parentNode;return n}(e.target,_["JSON_".concat(t,"_WRAPPER")]);!function(e,t){var n=e.nextSibling;return!(!n||!n.className.includes(t))&&"none"!==n.style.display}(n,_["JSON_".concat(t,"_CONTENT")])?(R(n,!0,_["JSON_".concat(t,"_CONTENT")]),function(e,t,n){var c=e;c.querySelector(".".concat(t)).style.display="none",c.querySelector(".".concat(n)).style.display="none"}(n,_["JSON_".concat(t,"_COLLAPSE")],_["JSON_".concat(t,"_ELLIPSE")]),function(e,t,n){var c=e;c.querySelector(".".concat(t)).style.display="none",c.querySelector(".".concat(n)).style.display="unset"}(n,T,C)):(R(n,!1,_["JSON_".concat(t,"_CONTENT")]),function(e,t,n){var c=e;c.querySelector(".".concat(t)).style.display="unset",c.querySelector(".".concat(n)).style.display="unset"}(n,_["JSON_".concat(t,"_COLLAPSE")],_["JSON_".concat(t,"_ELLIPSE")]),function(e,t,n){var c=e;c.querySelector(".".concat(t)).style.display="unset",c.querySelector(".".concat(n)).style.display="none"}(n,T,C))},a.generateSpace=function(e){return Array(e).fill("\xa0\xa0").join("")},a.generateObjectHtml=function(e,t){var n=Object.keys(e),s="{\n",o=[Object(c.jsx)(w,{type:"OBJECT",keyIndex:t,expandOrCollapse:a.expandOrCollapse},"objectCAE".concat(t))];return n.forEach((function(r,l){var i=a.generateTemplate(e[r],t+1),j=i.html,u=i.string,d="array".concat(t).concat(r).concat(l),p=l===n.length-1,h=p?Object(c.jsx)(c.Fragment,{children:j}):Object(c.jsxs)(c.Fragment,{children:[j,","]});o=o.concat(Object(c.jsxs)("div",{className:"".concat(_.JSON_OBJECT_CONTENT," key-value-overflow indent"),children:[Object(c.jsx)("span",{className:"json-key",children:'"'.concat(r,'": ')}),Object(c.jsx)("span",{children:h})]},d)),s+="".concat(a.generateSpace(t+1),'"').concat(r,'": ').concat(p?u:"".concat(u,","),"\n")})),o=o.concat(Object(c.jsx)("span",{children:"}"},"object".concat(t+1))),s+="".concat(a.generateSpace(t),"}"),{html:o,string:s}},a.generateArrayHtml=function(e,t){var n="[",s=[Object(c.jsx)(w,{type:E,keyIndex:t,expandOrCollapse:a.expandOrCollapse},"arrayCAE".concat(t))];return e.forEach((function(o,r){var l=a.generateTemplate(o,t+1),i=l.html,j=l.string,u="array".concat(t).concat(o).concat(r),d=r===e.length-1,p=r===e.length-1?Object(c.jsx)("span",{children:i}):Object(c.jsxs)("span",{children:[i,","]});s=s.concat(Object(c.jsx)("div",{className:"".concat(_.JSON_ARRAY_CONTENT," indent"),children:Object(c.jsx)("span",{children:p})},u)),n+="\n".concat(a.generateSpace(t+1)).concat(d?j:"".concat(j,","))})),s=s.concat(Object(c.jsx)("span",{children:"]"},"array".concat(t+1))),n+="\n".concat(a.generateSpace(t),"]"),{html:s,string:n}},a.plainText=function(e,t,n){return{html:Object(c.jsx)(A,{name:e,keyIndex:"original".concat(t),jsonObject:n}),string:n}},a.generateTemplate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return L.isObject(e)?a.generateObjectHtml(e,t):L.isArray(e)?a.generateArrayHtml(e,t):L.isNull(e)?a.plainText("json-value-null",t,"".concat(e)):L.isString(e)?a.plainText("json-value-string",t,'"'.concat(e,'"')):L.isBoolean(e)?a.plainText("json-value-bool",t,"".concat(e)):L.isNumber(e)?a.plainText("json-value-number",t,e):{html:null,string:""}},a.parseData=function(e){if(e)try{var t=g()(e),n=a.generateTemplate(t).html,s=a.generateTemplate(t).string;a.setState({result:n,htmlString:s,hasError:!1})}catch(o){a.setState({result:Object(c.jsx)("div",{dangerouslySetInnerHTML:{__html:o.message}}),hasError:!0})}else a.setState({result:"",hasError:!1})},a.onInputPaste=function(e){var t=(e.clipboardData||window.clipboardData).getData("text");a.parseData(t)},a.onInputChange=function(e){a.parseData(e.target.value)},a.showHtmlTemplate=function(){a.state.htmlString&&a.setState({htmlTemplate:!0},(function(){var e,t,n=(e=a.htmlInput,t="htmlInput",e.current?e.current:document.querySelector("#".concat(t)));n&&n.select?n.select():document.querySelector("#htmlInput").select()}))},a.hideHtmlTemplate=function(){a.setState({htmlTemplate:!1},(function(){return function(){if(window.getSelection){var e=window.getSelection();e.deleteFromDocument(),e.isCollapsed||e.getRangeAt(0).deleteContents(),e.anchorNode&&e.collapse(e.anchorNode,e.anchorOffset)}else document.selection&&document.selection.clear()}()}))},a.downloadJson=function(){var e=a.state.htmlString;e&&I("".concat(Object(f.a)(),".json"),e)},a.state={result:"",hasError:!1,htmlString:"",htmlTemplate:!1,clipboard:null},a.htmlInput=s.a.createRef(),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=new ClipboardJS("#pasteIcon");e.on("success",(function(e){h.b.success("\u5185\u5bb9\u5df2\u7ecf\u6210\u529f\u590d\u5236\u5230\u526a\u5207\u677f"),e.clearSelection()})),e.on("error",(function(){h.b.error("\u590d\u5236\u9519\u8bef")})),this.setState({clipboard:e})}},{key:"componentWillUnmount",value:function(){this.state.clipboard.destroy()}},{key:"render",value:function(){var e=this,t=this.state,n=t.result,a=t.htmlTemplate,s=t.htmlString,o=t.hasError;return Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(p.a,{className:"layout",children:[Object(c.jsxs)(k,{children:[Object(c.jsx)("div",{className:"logo"}),Object(c.jsx)(O.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"},children:Object(c.jsx)(O.a.Item,{children:"Json Visualizer"},"1")})]}),Object(c.jsx)(q,{className:"content",children:Object(c.jsxs)(m.a,{className:"row",children:[Object(c.jsx)(b.a,{className:"col",span:10,children:Object(c.jsx)(P,{className:"input-left",placeholder:"\u8f93\u5165\u6216\u8005\u7c98\u8d34json\u6570\u636e...",onPaste:function(t){return e.onInputPaste(t)},onChange:function(t){return e.onInputChange(t)}})}),Object(c.jsx)(b.a,{className:"col",span:14,children:Object(c.jsxs)("div",{className:"result",children:[Object(c.jsx)("div",{className:"util",children:Object(c.jsxs)(m.a,{type:"flex",justify:"space-between",align:"middle",children:[Object(c.jsxs)(b.a,{children:[Object(c.jsx)("span",{id:"pasteIcon","data-clipboard-text":s,children:Object(c.jsx)(x.a,{title:"\u590d\u5236\u5230\u526a\u5207\u677f",className:"html-icon"})}),Object(c.jsx)(N.a,{title:"\u4e0b\u8f7d",className:"html-icon",onClick:this.downloadJson}),a?Object(c.jsx)(y.a,{title:"\u53d6\u6d88",className:"html-icon close-icon",type:"close",onClick:this.hideHtmlTemplate}):null]}),Object(c.jsx)(b.a,{children:"Tips: \u53cc\u51fb\u4e0b\u65b9\u7ed3\u6784\u53ef\u4ee5\u590d\u5236json\u5b57\u7b26\u4e32"})]})}),Object(c.jsx)("div",{className:"content-wrapper",children:Object(c.jsxs)(m.a,{type:"flex",children:[Object(c.jsx)(b.a,{className:"row-number",children:Object(c.jsx)(J,{})}),o?Object(c.jsx)(b.a,{className:"json-content",children:Object(c.jsx)("pre",{children:n})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.a,{className:"html-content ".concat(a?"show":"hide"),children:Object(c.jsx)(P,{id:"htmlInput",ref:this.htmlInput,className:"html-input",value:s})}),Object(c.jsx)(b.a,{className:"json-content ".concat(a?"hide":"show"),onDoubleClick:this.showHtmlTemplate,children:n})]})]})})]})})]})})]})})}}]),n}(a.Component),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),H()}},[[175,1,2]]]);
//# sourceMappingURL=main.ac0b7bda.chunk.js.map